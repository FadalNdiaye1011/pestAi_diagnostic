@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

html {
  font-size: 80%;
}

@theme {
  /* Couleurs primaires */
  --color-primary-light: oklch(0.44 0.10 218.72); /* #1a6d80 */
  --color-primary-dark: oklch(0.30 0.07 219.58); /* #0c3a45 */

  /* Couleurs secondaires */
  --color-secondary-light: oklch(0.85 0.09 76.15); /* #fad178 */
  --color-secondary-dark: oklch(0.77 0.17 78.55); /* #f7a726 */

  /* Couleurs du logo */
  --color-primary: #0A71B6;
  --color-secondary: #089C44;
  --color-logo-orange: #DF8321;
  --color-logo-green-medium: #34A06C;
  --color-logo-green-light: #72C4A5;

  /* Animations personnalisées pour Tailwind v4 */
  --animate-fade-in: fadeIn 0.3s ease-out;
  --animate-slide-in-right: slideInRight 0.3s ease-out;
  --animate-scale-in: scaleIn 0.3s ease-out;
  --animate-slide-in: slideIn 0.3s ease-out;
  --animate-slide-out: slideOut 0.3s ease-out;
}

.dark {
  background: #111827; /* bg-gray-900 */
}

/* Définitions des keyframes */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideInRight {
  from { transform: translateX(20px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes scaleIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateX(100px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes slideOut {
  from { transform: translateX(0); opacity: 1; }
  to { transform: translateX(100px); opacity: 0; }
}

/* Classes d'animation pour compatibilité */
.animate-fade-in {
  animation: var(--animate-fade-in);
}

.animate-slide-in-right {
  animation: var(--animate-slide-in-right);
}

.animate-scale-in {
  animation: var(--animate-scale-in);
}

.animate-slide-in {
  animation: var(--animate-slide-in);
}

.animate-slide-out {
  animation: var(--animate-slide-out);
}

/* Classes utilitaires Tailwind pour les animations */
@utility animate-fade-in {
  animation: var(--animate-fade-in);
}

@utility animate-slide-in-right {
  animation: var(--animate-slide-in-right);
}

@utility animate-scale-in {
  animation: var(--animate-scale-in);
}

@utility animate-slide-in {
  animation: var(--animate-slide-in);
}

@utility animate-slide-out {
  animation: var(--animate-slide-out);
}

@layer components {
  .btn {
    @apply px-5 py-2.5 border-none rounded-lg font-semibold cursor-pointer transition-all duration-300 text-sm inline-flex items-center gap-2;
  }

  .btn-primary {
    @apply bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-lg shadow-indigo-500/40 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-indigo-500/60;
  }

  .btn-secondary {
    @apply bg-gray-100 text-gray-700 hover:bg-gray-200;
  }

  .btn-danger {
    @apply bg-red-500 text-white hover:bg-red-600;
  }

  .btn-small {
    @apply px-4 py-2 text-xs;
  }

  .btn-success {
    @apply bg-emerald-500 text-white hover:bg-emerald-600;
  }

  .btn-warning {
    @apply bg-amber-500 text-white hover:bg-amber-600;
  }

  .btn-info {
    @apply bg-blue-500 text-white hover:bg-blue-600;
  }

  .btn:disabled {
    @apply opacity-50 cursor-not-allowed hover:transform-none hover:shadow-none;
  }

  .parcelle-card {
    @apply bg-gradient-to-br from-gray-50 to-gray-100 p-4 rounded-lg mb-3 cursor-pointer transition-all duration-300 border-l-4 border-blue-500 hover:translate-x-1 hover:shadow-lg;
  }

  .badge {
    @apply bg-gradient-to-br from-indigo-500 to-purple-600 text-white px-3 py-1 rounded-full text-xs font-semibold;
  }

  .badge-large {
    @apply px-4 py-2 rounded-lg text-white font-semibold;
  }

  .historique-item {
    @apply bg-gray-50 p-4 rounded-lg mb-3 border-l-4 border-blue-500;
    animation: var(--animate-fade-in);
  }

  .historique-item.incident {
    @apply border-l-amber-500 bg-amber-50;
  }

  .historique-item.action {
    @apply border-l-emerald-500 bg-emerald-50;
  }

  .historique-item.observation {
    @apply border-l-blue-500 bg-blue-50;
  }

  .historique-type {
    @apply bg-blue-500/10 text-blue-600 px-2.5 py-1 rounded-full text-xs font-semibold capitalize;
  }

  .historique-date {
    @apply text-gray-400 text-xs;
  }

  .method-card {
    @apply bg-white border-2 border-gray-200 rounded-xl p-5 text-center cursor-pointer transition-all duration-300 hover:border-indigo-500 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-500/20;
  }

  .method-card.active {
    @apply border-indigo-500 bg-gradient-to-br from-indigo-500/10 to-purple-600/10 shadow-lg shadow-indigo-500/30;
  }

  .method-icon {
    @apply text-3xl mb-2.5;
  }

  .method-title {
    @apply font-bold text-gray-900 mb-2 text-sm;
  }

  .method-desc {
    @apply text-xs text-gray-500 leading-tight;
  }

  /* Scrollbar personnalisée */
  .sidebar::-webkit-scrollbar,
  .modal::-webkit-scrollbar {
    @apply w-2;
  }

  .sidebar::-webkit-scrollbar-track,
  .modal::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full;
  }

  .sidebar::-webkit-scrollbar-thumb,
  .modal::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }

  .sidebar::-webkit-scrollbar-thumb:hover,
  .modal::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }
}

/* Responsive */
@media (max-width: 1024px) {
  .main-content {
    @apply flex-col;
  }

  .sidebar {
    @apply w-full max-h-96;
  }
}
